{% extends "base.html" %}
{% block title %}QualiMation - {{ user.id }}{% endblock %}
{% block content %}
<div class="container py-5" style="background: rgba(255, 255, 255, 0.7); border-radius: 20px;">
    <div class="row">
        <div class="col-12 text-center mb-4">
            <img src="{{ url_for('static', filename='images/sd.png') }}" alt="Logo" class="img-fluid" style="max-width: 200px;">
            <h1 class="display-4">QualiMation Bot</h1>
            <a href="{{ url_for('logout') }}" class="btn btn-primary">Logout</a>
        </div>
    </div>
    <form method="POST" enctype="multipart/form-data">
        <div class="row">
            <div class="col-md-8">
                <div class="mb-3">
                    <input type="text" name="test_key" class="form-control" placeholder="Test Key (e.g., PROJ-200)">
                </div>
                <div class="mb-3">
                    <textarea name="task" class="form-control" rows="5" placeholder="Enter your task (e.g., Navigate to Google) or upload a file" required></textarea>
                </div>
                <div class="mb-3">
                    <input type="file" name="task_file" class="form-control" accept=".txt,.json">
                </div>
                <div class="mb-3">
                    <input type="url" name="url" class="form-control" placeholder="Starting URL (e.g., https://www.google.com)">
                </div>
                <div class="mb-3">
                    <textarea name="add_infos" class="form-control" rows="3" placeholder="Additional instructions (optional)"></textarea>
                </div>
            </div>
            <div class="col-md-4">
                <div class="mb-3">
                    <input type="number" name="max_steps" class="form-control" value="100" placeholder="Max Steps">
                </div>
                <div class="mb-3 form-check">
                    <input type="checkbox" name="headless" class="form-check-input" id="headless" checked>
                    <label class="form-check-label" for="headless">Headless Mode</label>
                </div>
                <div class="mb-3 form-check">
                    <input type="checkbox" name="use_vision" class="form-check-input" id="use_vision" checked>
                    <label class="form-check-label" for="use_vision">Use Vision</label>
                </div>
                <button type="submit" class="btn btn-success w-100 mb-3">Run Bot</button>
                <a href="{{ url_for('modules') }}" class="btn btn-primary w-100 mb-3">Modules</a>
                <a href="{{ url_for('results') }}" class="btn btn-primary w-100">Show Results</a>
            </div>
        </div>
    </form>
</div>
{% endblock %}